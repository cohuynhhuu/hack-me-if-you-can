@page
@model IndexModel
@{
    ViewData["Title"] = "Security Workshop Dashboard";
}

<div class="container mt-4">
    <div class="jumbotron bg-light p-5 rounded">
        <h1 class="display-4"><i class="bi bi-shield-check"></i> Security Workshop Demo</h1>
        <p class="lead">Interactive demonstrations of common web security vulnerabilities and their defenses.</p>
        <hr class="my-4">
        <p>Click on any security step below to see vulnerable vs. secure implementations.</p>
    </div>

    <div class="row g-4 mt-3">
        <!-- STEP 1: SQL Injection -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-danger">
                <div class="card-header bg-danger text-white">
                    <i class="bi bi-1-circle-fill"></i> STEP 1
                </div>
                <div class="card-body">
                    <h5 class="card-title">SQL Injection</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> Raw SQL queries with string concatenation</p>
                    <p class="card-text text-success"><strong>Defense:</strong> Parameterized queries with Entity Framework</p>
                </div>
                <div class="card-footer">
                    <a href="/Step1" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 2: XSS Protection -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-warning">
                <div class="card-header bg-warning text-dark">
                    <i class="bi bi-2-circle-fill"></i> STEP 2
                </div>
                <div class="card-body">
                    <h5 class="card-title">XSS Protection</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> Unescaped user input rendering</p>
                    <p class="card-text text-success"><strong>Defense:</strong> Automatic HTML encoding + CSP headers</p>
                </div>
                <div class="card-footer">
                    <a href="/Step2" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 3: CSRF Protection -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-info">
                <div class="card-header bg-info text-white">
                    <i class="bi bi-3-circle-fill"></i> STEP 3
                </div>
                <div class="card-body">
                    <h5 class="card-title">CSRF Protection</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> No anti-forgery token validation</p>
                    <p class="card-text text-success"><strong>Defense:</strong> ASP.NET Core anti-forgery tokens</p>
                </div>
                <div class="card-footer">
                    <a href="/Step3" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 4: Auth & Authorization -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-primary">
                <div class="card-header bg-primary text-white">
                    <i class="bi bi-4-circle-fill"></i> STEP 4
                </div>
                <div class="card-body">
                    <h5 class="card-title">JWT & MFA</h5>
                    <p class="card-text"><strong>Features:</strong></p>
                    <ul class="small mb-0">
                        <li>JWT Token Generation & Validation</li>
                        <li>Token Inspector & Decoder</li>
                        <li>Protected Endpoint Testing</li>
                        <li>MFA Enrollment (QR Code)</li>
                        <li>Two-Factor Login Flow</li>
                    </ul>
                </div>
                <div class="card-footer">
                    <a href="/Step4" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 5: Secrets Management -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-secondary">
                <div class="card-header bg-secondary text-white">
                    <i class="bi bi-5-circle-fill"></i> STEP 5
                </div>
                <div class="card-body">
                    <h5 class="card-title">Secrets Management</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> Hardcoded API keys in source code</p>
                    <p class="card-text text-success"><strong>Defense:</strong> appsettings.json + User Secrets</p>
                </div>
                <div class="card-footer">
                    <a href="/Step5" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 6: Rate Limiting -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-dark">
                <div class="card-header bg-dark text-white">
                    <i class="bi bi-6-circle-fill"></i> STEP 6
                </div>
                <div class="card-body">
                    <h5 class="card-title">Rate Limiting</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> Unlimited API requests (DoS risk)</p>
                    <p class="card-text text-success"><strong>Defense:</strong> .NET 7 Rate Limiting Middleware</p>
                </div>
                <div class="card-footer">
                    <a href="/Step6" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 7: Input Validation -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-success">
                <div class="card-header bg-success text-white">
                    <i class="bi bi-7-circle-fill"></i> STEP 7
                </div>
                <div class="card-body">
                    <h5 class="card-title">Input Validation</h5>
                    <p class="card-text"><strong>Vulnerability:</strong> No validation on user inputs</p>
                    <p class="card-text text-success"><strong>Defense:</strong> FluentValidation + Data Annotations</p>
                </div>
                <div class="card-footer">
                    <a href="/Step7" class="btn btn-primary w-100">Open Demo</a>
                </div>
            </div>
        </div>

        <!-- STEP 8: Security Logs Viewer -->
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-primary shadow">
                <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <i class="bi bi-8-circle-fill"></i> STEP 8 ‚≠ê
                </div>
                <div class="card-body">
                    <h5 class="card-title">Security Logs Viewer</h5>
                    <p class="card-text"><strong>Feature:</strong> Real-time security event monitoring</p>
                    <p class="card-text text-success"><strong>Tech:</strong> Serilog + SQL Server database logging</p>
                </div>
                <div class="card-footer">
                    <a href="/Step8" class="btn btn-primary w-100">View Logs <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>
