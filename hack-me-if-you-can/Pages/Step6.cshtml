@page
@model Step6Model
@{ ViewData["Title"] = "STEP 6: Rate Limiting"; }
<div class="container mt-4">
<div class="row mb-4">
<div class="col-12"><div class="d-flex justify-content-between align-items-center">
<h2><i class="bi bi-6-circle-fill text-dark"></i> STEP 6: Rate Limiting</h2>
<a href="/" class="btn btn-outline-secondary"><i class="bi bi-house"></i> Dashboard</a>
</div></div></div>
<div class="row">
<div class="col-md-6"><div class="demo-section vulnerable-section">
<h4 class="text-danger"><i class="bi bi-exclamation-triangle-fill"></i> Vulnerable</h4>
<p><strong>Problem:</strong> Unlimited API requests (DoS risk)</p>
<button class="btn btn-vulnerable w-100" onclick="spamRequests()">
<i class="bi bi-bug-fill"></i> Spam 100 Requests
</button>
<div id="vulnRateResult" class="result-panel"></div>
</div></div>
<div class="col-md-6"><div class="demo-section secure-section">
<h4 class="text-success"><i class="bi bi-shield-check-fill"></i> Secure</h4>
<p><strong>Solution:</strong> .NET 7 Rate Limiting Middleware</p>
<button class="btn btn-secure w-100" onclick="testRateLimit()">
<i class="bi bi-shield-fill"></i> Test Rate Limit
</button>
<div id="secureRateResult" class="result-panel"></div>
</div></div></div>
<div class="row mt-4"><div class="col-12"><div class="highlight-box highlight-info">
<h5><i class="bi bi-info-circle-fill"></i> Rate Limiting Strategies</h5>
<ul class="mb-0">
<li>Fixed window: X requests per time period</li>
<li>Sliding window: More accurate limiting</li>
<li>Token bucket: Burst handling</li>
<li>Per-IP and per-user limits</li>
</ul></div></div></div></div>
@section Scripts {
<script>
async function spamRequests() {
for(let i = 0; i < 100; i++) { fetch('/api/data').catch(() => {}); }
showResult('vulnRateResult', 'error', '100 requests sent! Server could be overwhelmed.');
}
async function testRateLimit() {
const results = await Promise.all([...Array(10)].map(() => fetch('/api/data')));
const blocked = results.filter(r => r.status === 429).length;
showResult('secureRateResult', 'success', `Sent 10 requests - ${blocked} blocked by rate limiter`);
}
</script>
}
